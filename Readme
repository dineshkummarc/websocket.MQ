
websocket.MQ

Copyright 2010 by Liam Breck, Menlo Park, California
License http://www.gnu.org/licenses/agpl-3.0.html

https://github.com/networkimprov/websocket.MQ

A reliable message queue service for websocket-connected clients.
The initial goal is to enable messaging among Node.js instances on the public net.
Clients' connections are assumed to be potentially unreliable.

As with email, each message is posted with a list of recipients. We don't track subscriptions.
On disk, messages are stored in separate files, within transient directories for each recipient.

Components
  mqserver.js - the server app. Creates an mqstore/ directory in the working directory.
  mqclient.js - the client module.
  mqtest.js - test client. Creates 10 clients which connect/send/disconnect.
  websocket-server - patched module from https://github.com/miksago/node-websocket-server
  websocket-client - patched module from https://github.com/pgriess/node-websocket-client

Dependencies
  Node.js 0.2.x https://github.com/ry/node

Message format
  f0f {"op":"type" ...}data
  1-4 hex digits, padded with 0-3 spaces, giving the size of the JSON metadata object
  JSON metadata
  arbitrary size text data

Message op types
  To server: register, login, post, ack
  To client: info, quit, deliver, ack

Todo
  Implement user registration with email confirmation
  Validate login against user database
  Browser-compatible client library
  SSL
  Email gateway with SMTP client and LMTP server
  Modulize to enable access via socket.IO, etc

